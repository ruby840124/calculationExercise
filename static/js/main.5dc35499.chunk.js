(this.webpackJsonpfaceapi=this.webpackJsonpfaceapi||[]).push([[0],{18:function(e,t,a){e.exports=a(39)},23:function(e,t,a){},31:function(e,t){},32:function(e,t){},33:function(e,t){},35:function(e,t,a){},36:function(e,t,a){e.exports=a.p+"static/media/test.034849c3.png"},37:function(e,t,a){e.exports=a.p+"static/media/upload.2677b93a.png"},38:function(e,t,a){e.exports=a.p+"static/media/loading2.1e6d9f0d.gif"},39:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),c=a(13),o=a.n(c),r=(a(23),a(5)),l=a.n(r),s=a(8),m=a(14),u=a(15),d=a(17),g=a(16),p=a(3),h=a(11),f=a.n(h),v=(a(35),function(e){Object(d.a)(n,e);var t=Object(g.a)(n);function n(e){var i;return Object(m.a)(this,n),(i=t.call(this,e)).loadImg=function(){var e=new Image;e.src=a(36),e.onload=i.imgOnCanvas(e)},i.imgOnCanvas=function(){var e=document.querySelector("#detectImg"),t=document.querySelector("#imgCanvas");e.onload=function(){t.width=e.clientWidth,t.height=e.clientHeight,t.getContext("2d").drawImage(e,0,0,e.clientWidth,e.clientHeight),i.setState({imgOnCanvas:!0,imageWidth:e.clientWidth,imageHeight:e.clientHeight})}},i.handleImageChange=function(e){var t=new FileReader,a=e.target.files[0];-1===a.type.indexOf("image/")?i.setState({uploadImg:!1,imagePreviewUrl:""}):(t.readAsDataURL(a),t.onloadend=function(){i.setState({uploadImg:!0,imagePreviewUrl:t.result,imgOnCanvas:!1}),i.imgOnCanvas()})},i.state={uploadImg:!1,imagePreviewUrl:"",imgOnCanvas:!1,loading:!1,imageWidth:"",imageHeight:""},i}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.loadModel()}},{key:"componentDidUpdate",value:function(){}},{key:"loadModel",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="/models",e.next=3,p.e(t);case 3:return e.next=5,p.c(t);case 5:return e.next=7,p.d(t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"detectFace",value:function(){var e=Object(s.a)(l.a.mark((function e(){var t,a,n,i,c,o,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.state,a=t.uploadImg,n=t.imageWidth,i=t.imageHeight,a){e.next=5;break}f.a.fire({icon:"error",title:"Oops...",text:"please upload your image first,fuck u!",heightAuto:!1}),e.next=16;break;case 5:return this.setState({loading:!0}),c=document.getElementById("detectImg"),o=document.querySelector("#imgCanvas"),e.next=10,p.a(c).withFaceLandmarks().withFaceDescriptors();case 10:r=e.sent,r=p.f(r,{width:n,height:i}),this.setState({loading:!1}),0===r.length&&f.a.fire({icon:"error",title:"Oops...",text:"detect no faceQQ",heightAuto:!1}),p.b.drawDetections(o,r),p.b.drawFaceLandmarks(o,r);case 16:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.uploadImg,c=t.imagePreviewUrl,o=t.imgOnCanvas,r=t.loading;return i.a.createElement("div",{className:"App"},i.a.createElement("div",{className:"topBlock"},i.a.createElement("div",{className:"topText"},"faceAPI demo")),i.a.createElement("div",{className:"cotentBlock"},i.a.createElement("div",{className:"uploadBlock"},!n&&i.a.createElement("div",{className:"uploadIcon"},i.a.createElement("img",{style:{height:"85px"},src:a(37),alt:""}),i.a.createElement("span",null,"please upload your image....")),n&&i.a.createElement("canvas",{style:{display:o?"inline":"none"},id:"imgCanvas"}),i.a.createElement("img",{id:"detectImg",className:"detectImg",style:{display:o?"none":"inline"},src:c,alt:""})),i.a.createElement("div",{className:"upload-btn-wrapper"},i.a.createElement("button",{className:"button",onClick:function(){return e.upload()}},i.a.createElement("span",null,"upload image")),i.a.createElement("input",{type:"file",accept:"image/*",onChange:this.handleImageChange})),i.a.createElement("button",{className:"button",onClick:function(){return e.detectFace()}},!1===r?i.a.createElement("span",null,"detect face"):i.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement("img",{style:{height:"24px"},src:a(38),alt:""}),i.a.createElement("span",null,"\xa0\xa0loading...")))))}}]),n}(i.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(v,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[18,1,2]]]);
//# sourceMappingURL=main.5dc35499.chunk.js.map